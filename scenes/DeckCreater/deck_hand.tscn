[gd_scene load_steps=2 format=3 uid="uid://bbleooi7jd2f3"]

[sub_resource type="GDScript" id="GDScript_vew0i"]
script/source = "extends Control

signal clicked(data: HandData)

@onready var img: TextureRect = $VBoxContainer/Image
@onready var count_label: Label = $VBoxContainer/CountLabel

func setup(data: HandData, count: int) -> void:
	img.texture = data.sprite
	count_label.text = \"x%d\" % count if count > 1 else \"\"
	# Set layout appearance
	custom_minimum_size = Vector2(160, 220)
	img.stretch_mode = TextureRect.STRETCH_KEEP_ASPECT_CENTERED
	img.mouse_filter = Control.MOUSE_FILTER_STOP
	img.gui_input.connect(_on_gui_input.bind(data))

func _on_gui_input(event: InputEvent, data: HandData) -> void:
	if event is InputEventMouseButton and event.pressed and event.button_index == MOUSE_BUTTON_LEFT:
		emit_signal(\"clicked\", data)
"

[node name="DeckHand" type="Control"]
custom_minimum_size = Vector2(150, 150)
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_vew0i")

[node name="VBoxContainer" type="VBoxContainer" parent="."]
custom_minimum_size = Vector2(100, 100)
layout_mode = 1
offset_left = -52.0
offset_top = -63.0
offset_right = 48.0
offset_bottom = 64.0

[node name="Image" type="TextureRect" parent="VBoxContainer"]
layout_mode = 2
mouse_filter = 0
stretch_mode = 4

[node name="CountLabel" type="Label" parent="VBoxContainer"]
layout_mode = 2
